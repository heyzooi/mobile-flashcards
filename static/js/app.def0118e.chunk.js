(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{179:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(149),o=n(260),i=n(18),u=n.n(i),l=n(3),s=n(43),f=n(4),d=n(32),p=n(38),b=n(36);var m=l.a.create({label:{fontSize:22},textInput:{borderWidth:1,borderRadius:5,height:40}});var O=Object(b.b)((function(e){return{decks:e.decks}}),{saveDeck:function(e){return{type:"SAVE_DECK",deck:e}}})((function(e){var t=e.route.params.deck,n=e.navigation,c=e.saveDeck,o=null==t.id,i=Object(r.useState)(t.name||""),l=u()(i,2),b=l[0],O=l[1],v=function(){c({name:b}),n.goBack()};return n.setOptions({title:o?"New Deck":"Edit Deck",headerRight:function(){return a.a.createElement(d.a,{onPress:v,title:"Save"})}}),a.a.createElement(f.a,{style:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"flex-start"}},a.a.createElement(s.a,{style:[m.label,{margin:8}]},o?"Give the Deck a name:":"Update the Deck's name:"),a.a.createElement(f.a,{style:{flexDirection:"row",flex:1,margin:8,marginTop:0}},a.a.createElement(p.a,{style:[m.textInput,{flex:1}],placeholder:o?"Name of your new deck":"Change the name of your deck",returnKeyType:"done",autoFocus:!0,onChange:function(e){return O(e.nativeEvent.text)},value:b,onSubmitEditing:v})))})),v=n(46),E=n.n(v),g=n(78),y=n(5),j=n(172),k=n(115);function h(e){return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,E.a.awrap(k.a.setItem("DECKS",JSON.stringify(e)));case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,E.a.awrap(k.a.removeItem("DECKS"));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),null,null,null,Promise)}var D=n(33),w=n(69);var S=Object(b.b)((function(e){return{decks:e.decks}}),{setDecks:function(e){return{type:"SET_DECKS",decks:e}},deleteDeck:function(e){return{type:"DELETE_DECK",deckId:e}}})((function(e){var t=e.navigation,n=e.decks,c=e.setDecks,o=e.deleteDeck;return t.setOptions({headerRight:function(){return a.a.createElement(d.a,{onPress:function(){return t.navigate("Edit Deck",{deck:{}})},title:"Add New Deck"})}}),n?a.a.createElement(g.a,{data:Object.values(n),renderItem:function(e){var n=e.item;return a.a.createElement(w.a,{renderRightActions:function(){return a.a.createElement(D.d,{onPress:function(){return o(n.id)}},a.a.createElement(y.a.Text,null,"Delete"))}},a.a.createElement(d.a,{onPress:function(){return t.navigate("Deck",{deck:n})},title:n.name}))},keyExtractor:function(e){return e.id}}):(Object(r.useEffect)((function(){!function(){var e;E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=JSON,e.next=3,E.a.awrap(k.a.getItem("DECKS"));case 3:if(e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),null,null,null,Promise));case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()})),a.a.createElement(j.a,{size:"large"}))})),C=n(65),P=n(7),x=n.n(P),T=n(130),I=n.n(T);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=Object(C.c)({decks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DECKS":return t.decks;case"SAVE_DECK":var n=t.deck;n.id||(n.id=I.a.v4());var r=V({},e,x()({},n.id,n));return h(r),r;case"SAVE_CARD":var a=t.deckId,c=t.card,o=e[a];c.id||(c.id=I.a.v4());var i=V({},e,x()({},a,V({},o,{cards:V({},o.cards,x()({},c.id,c))})));return h(i),i;case"DELETE_CARD":var u=V({},e);return delete u[t.deckId].cards[t.cardId],h(u),u;case"DELETE_DECK":var l=V({},e);return delete l[t.deckId],h(l),l;default:return e}}}),K=n(173),z=n(174),_=n(79);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=Object(b.b)()((function(e){var t=e.card,n=e.editable,c=e.onChange,o=e.onSave,i=e.onFlip,s=e.animatedValueState,b=(n=n||!1)?Object(r.useState)(t.frontText||""):[t.frontText],m=u()(b,2),O=m[0],v=m[1],E=n?Object(r.useState)(t.backText||""):[t.backText],g=u()(E,2),j=g[0],k=g[1];c&&c({frontText:O,backText:j});var h=Object(r.useState)(0),D=u()(h,2),w=D[0],S=D[1],C=s||Object(r.useState)(new y.a.Value(0)),P=u()(C,1)[0];P.addListener((function(e){var t=e.value;return S(t)}));var T=Object(r.useState)(P.interpolate({inputRange:[0,180],outputRange:["0deg","180deg"]})),I=u()(T,1)[0],R=Object(r.useState)(P.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})),V={transform:[{rotateX:I}]},A={transform:[{rotateX:u()(R,1)[0]}]},K=l.a.create({flipCard:{backfaceVisibility:"hidden"},backCard:{position:"absolute",top:0}}),z=Object(r.useRef)(),_=Object(r.useRef)(),F=function(){o&&o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{frontText:O,backText:j}))};return a.a.createElement(f.a,null,a.a.createElement(y.a.View,{style:[V,K.flipCard]},a.a.createElement(p.a,{editable:n,ref:z,placeholder:"Front Card Text",returnKeyType:"done",autoFocus:!0,onChange:function(e){return v(e.nativeEvent.text)},value:O,onSubmitEditing:F})),a.a.createElement(y.a.View,{style:[A,K.flipCard,K.backCard]},a.a.createElement(p.a,{editable:n,ref:_,placeholder:"Back Card Text",returnKeyType:"done",onChange:function(e){return k(e.nativeEvent.text)},value:j,onSubmitEditing:F})),a.a.createElement(d.a,{onPress:function(){var e=w>=90;e?(y.a.spring(P,{toValue:0,friction:8,tension:10}).start(),n&&z.current.focus()):(y.a.spring(P,{toValue:180,friction:8,tension:10}).start(),n&&_.current.focus()),i&&i(e)},title:"Flip Card"}))}));var Q=Object(b.b)((function(e){return{decks:e.decks}}),{deleteCard:function(e,t){return{type:"DELETE_CARD",deckId:e,cardId:t}}})((function(e){var t=e.route.params.deck.id,n=e.navigation,r=e.decks,c=e.deleteCard,o=r[t];n.setOptions({title:o.name,headerRight:function(){return a.a.createElement(d.a,{onPress:function(){return n.navigate("Edit Card",{deck:o,card:{}})},title:"Add New Card"})}});var i=l.a.create({container:{flexDirection:"column",justifyContent:"flex-end"},takeQuiz:{position:"absolute",bottom:20,width:"100%",height:40,justifyContent:"center",alignItems:"center"},takeQuizText:{fontSize:30}}),u=Object.values(o.cards||{});return a.a.createElement(z.a,{style:[i.container]},a.a.createElement(g.a,{contentContainerStyle:{height:"100%"},data:u,renderItem:function(e){var n=e.item;return a.a.createElement(w.a,{renderRightActions:function(){return a.a.createElement(D.d,{onPress:function(){return c(t,n.id)}},a.a.createElement(y.a.Text,null,"Delete"))}},a.a.createElement(F,{card:n}))},keyExtractor:function(e){return e.id}}),u.length>0&&a.a.createElement(_.a,{style:[i.takeQuiz],onPress:function(){return n.push("Quiz",{deck:o})}},a.a.createElement(s.a,{style:[i.takeQuizText]},"Take a Quiz")))}));function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=Object(b.b)(null,{saveCard:function(e,t){return{type:"SAVE_CARD",deckId:e,card:t}}})((function(e){var t=e.route.params,n=t.deck,r=t.card,c=e.navigation,o=e.saveCard,i=null==r.id,u=function(e){0!==e.frontText.trim().length&&0!==e.backText.trim().length&&(o(n.id,e),c.goBack())};return c.setOptions({title:i?"New Card":"Edit Card",headerRight:function(){return a.a.createElement(d.a,{onPress:function(){return u(r)},title:"Save"})}}),a.a.createElement(F,{card:r,editable:!0,onChange:function(e){return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{},e)},onSave:function(){return u(r)}})}));function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=Object(b.b)()((function(e){var t=e.route.params.deck,n=e.navigation,c=Object(r.useState)(Object.keys(t.cards).reduce((function(e,t){return W({},e,x()({},t,null))}),{})),o=u()(c,2),i=o[0],p=o[1],b=Object(r.useState)(!1),m=u()(b,2),O=m[0],v=m[1],E=Object.entries(i).filter((function(e){var t=u()(e,2);t[0];return null===t[1]})).map((function(e){return u()(e,1)[0]})),g=Object(r.useState)(new y.a.Value(0)),j=u()(g,1)[0];if(0==E.length){var k=Object.values(i),h=k.filter((function(e){return e})).length,D=k.length-h||0;return a.a.createElement(f.a,null,a.a.createElement(s.a,null,"Correct: "+h),a.a.createElement(s.a,null,"Incorrect: "+D),a.a.createElement(s.a,null,"Total: "+k.length),a.a.createElement(d.a,{onPress:function(){n.pop()},title:"OK"}))}var w=E[0],S=t.cards[w],C=l.a.create({container:{flexDirection:"column",justifyContent:"flex-end"},submit:{position:"absolute",bottom:20,width:"100%",height:40,justifyContent:"center",alignItems:"center"},submitText:{fontSize:30},containerReply:{flexDirection:"row",justifyContent:"space-evenly"}}),P=function(e){p(W({},i,x()({},w,e))),v(!1),j.setValue(0)};return a.a.createElement(f.a,null,a.a.createElement(F,{card:S,onFlip:function(e){return v(!e)},animatedValueState:[j]}),O&&a.a.createElement(f.a,{style:C.containerReply},a.a.createElement(d.a,{style:C.reply,onPress:function(){return P(!1)},title:"Incorrect"}),a.a.createElement(d.a,{style:C.reply,onPress:function(){return P(!0)},title:"Correct"})))}));n.d(t,"a",(function(){return U}));var G=Object(C.d)(A,Object(C.a)(K.a,(function(e){return function(t){return function(n){console.group(n.type),console.log("Action:",n);var r=t(n);return console.log("New State:",e.getState()),console.groupEnd(),r}}})));function U(){var e=Object(o.a)();return a.a.createElement(c.a,null,a.a.createElement(b.a,{store:G},a.a.createElement(e.Navigator,null,a.a.createElement(e.Screen,{name:"FlashCards",component:S}),a.a.createElement(e.Screen,{name:"Edit Deck",component:O}),a.a.createElement(e.Screen,{name:"Deck",component:Q}),a.a.createElement(e.Screen,{name:"Edit Card",component:J}),a.a.createElement(e.Screen,{name:"Quiz",component:X}))))}},185:function(e,t,n){n(186),e.exports=n(248)},186:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[185,1,2]]]);
//# sourceMappingURL=app.def0118e.chunk.js.map