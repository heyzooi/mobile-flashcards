(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{187:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(154),o=n(262),i=n(20),u=n.n(i),s=n(4),l=n(47),d=n(5),f=n(33),p=n(40),b=n(38);var m=s.a.create({label:{fontSize:22},textInput:{borderWidth:1,borderRadius:5,height:40}});var v=Object(b.b)((function(e){return{decks:e.decks}}),{saveDeck:function(e){return{type:"SAVE_DECK",deck:e}}})((function(e){var t=e.route.params.deck,n=e.navigation,c=e.saveDeck,o=null==t.id,i=Object(r.useState)(t.name||""),s=u()(i,2),b=s[0],v=s[1],O=function(){0!==b.trim().length&&(c({name:b}),n.goBack())};return n.setOptions({title:o?"New Deck":"Edit Deck",headerRight:function(){return a.a.createElement(f.a,{onPress:O,title:"Save"})}}),a.a.createElement(d.a,{style:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"flex-start"}},a.a.createElement(l.a,{style:[m.label,{margin:8}]},o?"Give the Deck a name:":"Update the Deck's name:"),a.a.createElement(d.a,{style:{flexDirection:"row",flex:1,margin:8,marginTop:0}},a.a.createElement(p.a,{style:[m.textInput,{flex:1}],placeholder:o?"Name of your new deck":"Change the name of your deck",returnKeyType:"done",autoFocus:!0,onChange:function(e){return v(e.nativeEvent.text)},value:b,onSubmitEditing:O})))})),O=n(2),y=n.n(O),g=n(80),E=n(7),h=n(177),k=n(42);function j(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,y.a.awrap(k.a.setItem("DECKS",JSON.stringify(e)));case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,y.a.awrap(k.a.removeItem("DECKS"));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),null,null,null,Promise)}function w(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,y.a.awrap(k.a.setItem("NOTIFICATION_ID",e));case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,y.a.awrap(k.a.removeItem("NOTIFICATION_ID"));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),null,null,null,Promise)}var x=n(34),D=n(71);var P=Object(b.b)((function(e){return{decks:e.decks}}),{setDecks:function(e){return{type:"SET_DECKS",decks:e}},deleteDeck:function(e){return{type:"DELETE_DECK",deckId:e}}})((function(e){var t=e.navigation,n=e.decks,c=e.setDecks,o=e.deleteDeck;return t.setOptions({headerRight:function(){return a.a.createElement(f.a,{onPress:function(){return t.navigate("Edit Deck",{deck:{}})},title:"Add New Deck"})}}),n?a.a.createElement(g.a,{data:Object.values(n),renderItem:function(e){var n=e.item;return a.a.createElement(D.a,{renderRightActions:function(){return a.a.createElement(x.d,{onPress:function(){return o(n.id)}},a.a.createElement(E.a.Text,null,"Delete"))}},a.a.createElement(f.a,{onPress:function(){return t.navigate("Deck",{deck:n})},title:n.name}))},keyExtractor:function(e){return e.id}}):(Object(r.useEffect)((function(){!function(){var e;y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=JSON,e.next=3,y.a.awrap(k.a.getItem("DECKS"));case 3:if(e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),null,null,null,Promise));case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()})),a.a.createElement(h.a,{size:"large"}))})),S=n(67),C=n(6),T=n.n(C);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=Object(S.c)({decks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DECKS":return t.decks;case"SAVE_DECK":var n=t.deck;n.id||(n.id="deck-"+(Object.keys(e||{}).length+1).toString());var r=R({},e,T()({},n.id,n));return j(r),r;case"SAVE_CARD":var a=t.deckId,c=t.card,o=e[a];c.id||(c.id="card-"+(Object.keys(o.cards||{}).length+1).toString());var i=R({},e,T()({},a,R({},o,{cards:R({},o.cards,T()({},c.id,c))})));return j(i),i;case"DELETE_CARD":var u=R({},e);return delete u[t.deckId].cards[t.cardId],j(u),u;case"DELETE_DECK":var s=R({},e);return delete s[t.deckId],j(s),s;default:return e}}}),N=n(178),V=n(179),z=n(81);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _=Object(b.b)()((function(e){var t=e.card,n=e.editable,c=e.onChange,o=e.onSave,i=e.onFlip,l=e.animatedValueState,b=(n=n||!1)?Object(r.useState)(t.frontText||""):[t.frontText],m=u()(b,2),v=m[0],O=m[1],y=n?Object(r.useState)(t.backText||""):[t.backText],g=u()(y,2),h=g[0],k=g[1];c&&c({frontText:v,backText:h});var j=Object(r.useState)(0),w=u()(j,2),x=w[0],D=w[1],P=l||Object(r.useState)(new E.a.Value(0)),S=u()(P,1)[0];S.addListener((function(e){var t=e.value;return D(t)}));var C=Object(r.useState)(S.interpolate({inputRange:[0,180],outputRange:["0deg","180deg"]})),I=u()(C,1)[0],R=Object(r.useState)(S.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})),A={transform:[{rotateX:I}]},N={transform:[{rotateX:u()(R,1)[0]}]},V=s.a.create({flipCard:{backfaceVisibility:"hidden"},backCard:{position:"absolute",top:0}}),z=Object(r.useRef)(),_=Object(r.useRef)(),F=function(){o&&o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{frontText:v,backText:h}))};return a.a.createElement(d.a,null,a.a.createElement(E.a.View,{style:[A,V.flipCard]},a.a.createElement(p.a,{editable:n,ref:z,placeholder:"Front Card Text",returnKeyType:"done",autoFocus:!0,onChange:function(e){return O(e.nativeEvent.text)},value:v,onSubmitEditing:F})),a.a.createElement(E.a.View,{style:[N,V.flipCard,V.backCard]},a.a.createElement(p.a,{editable:n,ref:_,placeholder:"Back Card Text",returnKeyType:"done",onChange:function(e){return k(e.nativeEvent.text)},value:h,onSubmitEditing:F})),a.a.createElement(f.a,{onPress:function(){var e=x>=90;e?(E.a.spring(S,{toValue:0,friction:8,tension:10}).start(),n&&z.current.focus()):(E.a.spring(S,{toValue:180,friction:8,tension:10}).start(),n&&_.current.focus()),i&&i(e)},title:"Flip Card"}))}));var F=Object(b.b)((function(e){return{decks:e.decks}}),{deleteCard:function(e,t){return{type:"DELETE_CARD",deckId:e,cardId:t}}})((function(e){var t=e.route.params.deck.id,n=e.navigation,r=e.decks,c=e.deleteCard,o=r[t];n.setOptions({title:o.name,headerRight:function(){return a.a.createElement(f.a,{onPress:function(){return n.navigate("Edit Card",{deck:o,card:{}})},title:"Add New Card"})}});var i=s.a.create({container:{flexDirection:"column",justifyContent:"flex-end"},takeQuiz:{position:"absolute",bottom:20,width:"100%",height:40,justifyContent:"center",alignItems:"center"},takeQuizText:{fontSize:30}}),u=Object.values(o.cards||{});return a.a.createElement(V.a,{style:[i.container,{height:"100%"}]},a.a.createElement(g.a,{contentContainerStyle:[{height:"100%"}],data:u,renderItem:function(e){var n=e.item;return a.a.createElement(D.a,{renderRightActions:function(){return a.a.createElement(x.d,{onPress:function(){return c(t,n.id)}},a.a.createElement(E.a.Text,null,"Delete"))}},a.a.createElement(_,{card:n}))},keyExtractor:function(e){return e.id}}),u.length>0&&a.a.createElement(z.a,{style:[i.takeQuiz],onPress:function(){return n.push("Quiz",{deck:o})}},a.a.createElement(l.a,{style:[i.takeQuizText]},"Take a Quiz")))}));function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=Object(b.b)(null,{saveCard:function(e,t){return{type:"SAVE_CARD",deckId:e,card:t}}})((function(e){var t=e.route.params,n=t.deck,r=t.card,c=e.navigation,o=e.saveCard,i=null==r.id,u=function(e){0!==e.frontText.trim().length&&0!==e.backText.trim().length&&(o(n.id,e),c.goBack())};return c.setOptions({title:i?"New Card":"Edit Card",headerRight:function(){return a.a.createElement(f.a,{onPress:function(){return u(r)},title:"Save"})}}),a.a.createElement(_,{card:r,editable:!0,onChange:function(e){return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{},e)},onSave:function(){return u(r)}})})),J=n(100),B=n(263);function W(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.awrap(X());case 3:return t.next=5,y.a.awrap(w(null));case 5:return(e=new Date).setHours(20),t.next=9,y.a.awrap(B.a.scheduleLocalNotificationAsync({title:"Quiz Reminder",body:"You have not yet complete a quiz today!",ios:{sound:!0,_displayInForeground:!0},android:{sticky:!1}},{time:e.getTime(),repeat:"day"}));case 9:return localNotificationId=t.sent,t.next=12,y.a.awrap(w(localNotificationId));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),alert(t.t0);case 17:case"end":return t.stop()}}),null,null,[[0,14]],Promise)}function X(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.awrap(B.a.cancelAllScheduledNotificationsAsync());case 2:case"end":return e.stop()}}),null,null,null,Promise)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=Object(b.b)()((function(e){var t=e.route.params.deck,n=e.navigation,c=Object(r.useState)(Object.keys(t.cards).reduce((function(e,t){return G({},e,T()({},t,null))}),{})),o=u()(c,2),i=o[0],p=o[1],b=Object(r.useState)(!1),m=u()(b,2),v=m[0],O=m[1],y=Object.entries(i).filter((function(e){var t=u()(e,2);t[0];return null===t[1]})).map((function(e){return u()(e,1)[0]})),g=Object(r.useState)(new E.a.Value(0)),h=u()(g,1)[0];if(0==y.length){var k=Object.values(i),j=k.filter((function(e){return e})).length,w=k.length-j||0;return a.a.createElement(d.a,null,a.a.createElement(l.a,null,"Correct: "+j),a.a.createElement(l.a,null,"Incorrect: "+w),a.a.createElement(l.a,null,"Total: "+k.length),a.a.createElement(f.a,{onPress:function(){X(),n.pop()},title:"OK"}))}var x=y[0],D=t.cards[x],P=s.a.create({container:{flexDirection:"column",justifyContent:"flex-end"},submit:{position:"absolute",bottom:20,width:"100%",height:40,justifyContent:"center",alignItems:"center"},submitText:{fontSize:30},containerReply:{flexDirection:"row",justifyContent:"space-evenly"}}),S=function(e){p(G({},i,T()({},x,e))),O(!1),h.setValue(0)};return a.a.createElement(d.a,null,a.a.createElement(_,{card:D,onFlip:function(e){return O(!e)},animatedValueState:[h]}),v&&a.a.createElement(d.a,{style:P.containerReply},a.a.createElement(f.a,{style:P.reply,onPress:function(){return S(!1)},title:"Incorrect"}),a.a.createElement(f.a,{style:P.reply,onPress:function(){return S(!0)},title:"Correct"})))})),U=n(182),Y=n.n(U);n.d(t,"a",(function(){return Z}));var M=Object(S.d)(A,Object(S.a)(N.a,Y.a));function Z(){!function(){var e,t,n;y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y.a.awrap(J.c(J.a));case 3:if(e=r.sent,"granted"===e.status){r.next=19;break}return r.next=8,y.a.awrap(J.b(J.a));case 8:if(t=r.sent,n=t.status,t.permissions,"granted"===n){r.next=16;break}return alert("\ud83d\udc4b Please enable notifications so you can receive reminders every day."),r.abrupt("return");case 16:W();case 17:r.next=20;break;case 19:W();case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),alert(r.t0);case 25:case"end":return r.stop()}}),null,null,[[0,22]],Promise)}();var e=Object(o.a)();return a.a.createElement(c.a,null,a.a.createElement(b.a,{store:M},a.a.createElement(e.Navigator,null,a.a.createElement(e.Screen,{name:"FlashCards",component:P}),a.a.createElement(e.Screen,{name:"Edit Deck",component:v}),a.a.createElement(e.Screen,{name:"Deck",component:F}),a.a.createElement(e.Screen,{name:"Edit Card",component:L}),a.a.createElement(e.Screen,{name:"Quiz",component:H}))))}},194:function(e,t,n){n(195),e.exports=n(249)},195:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/mobile-flashcards/expo-service-worker.js",{scope:"/mobile-flashcards/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[194,1,2]]]);
//# sourceMappingURL=app.065fa61e.chunk.js.map